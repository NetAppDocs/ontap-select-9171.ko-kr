---
sidebar: sidebar 
permalink: concept_stor_capacity_inc.html 
keywords: ontap select, deploy, increase storage 
summary: ONTAP Deploy를 사용하면 ONTAP Select 클러스터의 각 노드에 추가 스토리지를 추가하고 라이선스를 부여할 수 있습니다. 
---
= ONTAP Select 스토리지 용량 증가
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
ONTAP Deploy를 사용하면 ONTAP Select 클러스터의 각 노드에 추가 스토리지를 추가하고 라이선스를 부여할 수 있습니다.

ONTAP Deploy의 스토리지 추가 기능은 관리 중인 스토리지를 늘리는 유일한 방법이며, ONTAP Select VM을 직접 수정하는 것은 지원되지 않습니다. 다음 그림은 스토리지 추가 마법사를 시작하는 "+" 아이콘을 보여줍니다.

image:ST_05.jpg["클러스터 및 노드 세부 정보"]

용량 확장 작업의 성공을 위해 다음 사항을 고려해야 합니다. 용량을 추가하려면 기존 라이선스로 총 용량(기존 용량과 새 용량)을 충당해야 합니다. 노드가 라이선스 용량을 초과하는 스토리지 추가 작업은 실패합니다. 충분한 용량을 가진 새 라이선스를 먼저 설치해야 합니다.

기존 ONTAP Select Aggregate에 추가 용량을 추가하는 경우, 새 스토리지 풀(데이터스토어)은 기존 스토리지 풀(데이터스토어)과 유사한 성능 프로필을 가져야 합니다. AFF 와 유사한 특성(플래시 지원)으로 설치된 ONTAP Select 노드에는 SSD가 아닌 스토리지를 추가할 수 없습니다. DAS와 외부 스토리지를 함께 사용하는 것도 지원되지 않습니다.

로컬(DAS) 스토리지 풀을 추가로 제공하기 위해 로컬 연결 스토리지를 시스템에 추가하는 경우, 추가 RAID 그룹과 LUN(들)을 구축해야 합니다. FAS 시스템과 마찬가지로, 동일한 집계에 새 공간을 추가하는 경우 새 RAID 그룹 성능이 기존 RAID 그룹과 유사한지 확인해야 합니다. 새 집계를 생성하는 경우, 새 집계의 성능에 미치는 영향을 충분히 이해한다면 새 RAID 그룹 레이아웃이 달라질 수 있습니다.

데이터 저장소의 총 크기가 지원되는 최대 데이터 저장소 크기를 초과하지 않는 경우, 새 공간을 동일한 데이터 저장소에 익스텐트로 추가할 수 있습니다. ONTAP Select 이미 설치된 데이터 저장소에 데이터 저장소 익스텐트를 추가하는 작업은 동적으로 수행될 수 있으며 ONTAP Select 노드의 작동에는 영향을 미치지 않습니다.

ONTAP Select 노드가 HA 쌍의 일부인 경우 몇 가지 추가 문제를 고려해야 합니다.

HA 쌍에서 각 노드는 파트너 노드의 데이터에 대한 미러 복사본을 포함합니다. 노드 1에 공간을 추가하려면 파트너 노드인 노드 2에도 동일한 용량의 공간을 추가해야 하며, 이를 통해 노드 1의 모든 데이터가 노드 2에 복제됩니다. 즉, 노드 1의 용량 추가 작업의 일환으로 노드 2에 추가된 공간은 노드 2에서 볼 수 없거나 액세스할 수 없습니다. 이 공간은 HA 이벤트 발생 시 노드 1의 데이터가 완벽하게 보호되도록 노드 2에 추가됩니다.

성능과 관련하여 추가 고려 사항이 있습니다. 노드 1의 데이터는 노드 2에 동기적으로 복제됩니다. 따라서 노드 1의 새 공간(데이터스토어) 성능은 노드 2의 새 공간(데이터스토어) 성능과 일치해야 합니다. 즉, 두 노드에 공간을 추가하더라도 서로 다른 드라이브 기술이나 서로 다른 RAID 그룹 크기를 사용하면 성능 문제가 발생할 수 있습니다. 이는 파트너 노드의 데이터 복사본을 유지하는 데 사용되는 RAID SyncMirror 작업 때문입니다.

HA 쌍의 두 노드에서 사용자가 액세스할 수 있는 용량을 늘리려면 각 노드에 대해 하나씩, 두 번의 스토리지 추가 작업을 수행해야 합니다. 각 스토리지 추가 작업에는 두 노드 모두에 추가 공간이 필요합니다. 각 노드에 필요한 총 공간은 노드 1에 필요한 공간과 노드 2에 필요한 공간을 더한 값입니다.

초기 설정은 두 개의 노드로 구성되었으며, 각 노드에는 30TB의 공간이 있는 두 개의 데이터 저장소가 있습니다. ONTAP Deploy는 두 개의 노드로 구성된 클러스터를 생성하며, 각 노드는 데이터 저장소 1에서 10TB의 공간을 사용합니다 ONTAP Deploy는 각 노드에 노드당 5TB의 활성 공간을 구성합니다.

다음 그림은 노드 1에 대한 단일 스토리지 추가 작업의 결과를 보여줍니다. ONTAP Select 각 노드에서 동일한 용량(15TB)의 스토리지를 사용합니다. 그러나 노드 1의 활성 스토리지 용량(10TB)이 노드 2(5TB)보다 더 큽니다. 각 노드는 다른 노드의 데이터 복사본을 호스팅하므로 두 노드 모두 완벽하게 보호됩니다. 데이터스토어 1에는 추가 여유 공간이 남아 있으며, 데이터스토어 2는 여전히 완전히 비어 있습니다.

*용량 분배: 단일 스토리지 추가 작업 후 할당 및 여유 공간*

image:ST_06.jpg["용량 분배: 단일 스토리지 추가 작업 후 할당 및 여유 공간"]

노드 1에서 두 번의 추가 스토리지 추가 작업이 데이터스토어 1의 나머지 공간과 데이터스토어 2의 일부(용량 제한 사용)를 소모합니다. 첫 번째 스토리지 추가 작업은 데이터스토어 1에 남아 있는 15TB의 여유 공간을 소모합니다. 다음 그림은 두 번째 스토리지 추가 작업의 결과를 보여줍니다. 이 시점에서 노드 1은 50TB의 활성 데이터를 관리하고 있으며, 노드 2는 원래 5TB의 데이터를 관리하고 있습니다.

*용량 분배: 노드 1에 대한 2개의 추가 스토리지 추가 작업 후 할당 및 여유 공간*

image:ST_07.jpg["용량 분배: 노드 1에 대한 두 개의 추가 스토리지 추가 작업 후 할당 및 여유 공간"]

용량 추가 작업 중 사용되는 최대 VMDK 크기는 16TB입니다. 클러스터 생성 작업 중 사용되는 최대 VMDK 크기는 8TB입니다. ONTAP Deploy는 구성(단일 노드 또는 다중 노드 클러스터) 및 추가되는 용량에 따라 적절한 크기의 VMDK를 생성합니다. 단, 각 VMDK의 최대 크기는 클러스터 생성 작업 중에는 8TB를, 스토리지 추가 작업 중에는 16TB를 초과할 수 없습니다.



== 소프트웨어 RAID를 사용하여 ONTAP Select 의 용량 증가

스토리지 추가 마법사는 소프트웨어 RAID를 사용하는 ONTAP Select 노드의 관리 용량을 늘리는 데에도 사용할 수 있습니다. 이 마법사는 사용 가능하고 ONTAP Select VM에 RDM으로 매핑 가능한 DAS SDD 드라이브만 표시합니다.

라이선스 용량을 1TB씩 늘리는 것은 가능하지만, 소프트웨어 RAID를 사용하는 경우 물리적으로 용량을 1TB씩 늘릴 수는 없습니다. FAS 또는 AFF 어레이에 디스크를 추가하는 것과 마찬가지로, 단일 작업으로 추가할 수 있는 최소 스토리지 용량은 특정 요인에 따라 결정됩니다.

HA 쌍에서 노드 1에 스토리지를 추가하려면 해당 노드의 HA 쌍(노드 2)에도 동일한 수의 드라이브가 있어야 합니다. 로컬 드라이브와 원격 디스크는 모두 노드 1의 스토리지 추가 작업에서 사용됩니다. 즉, 원격 드라이브는 노드 1의 새 스토리지가 노드 2에 복제되고 보호되도록 하는 데 사용됩니다. 노드 2에 로컬로 사용 가능한 스토리지를 추가하려면 두 노드 모두에 별도의 스토리지 추가 작업과 동일한 수의 별도 드라이브를 사용할 수 있어야 합니다.

ONTAP Select 새 드라이브를 기존 드라이브와 동일한 루트, 데이터 및 데이터 파티션으로 분할합니다. 분할 작업은 새 집계를 생성하거나 기존 집계를 확장하는 동안 수행됩니다. 각 디스크의 루트 파티션 스트라이프 크기는 기존 디스크의 기존 루트 파티션 크기와 일치하도록 설정됩니다. 따라서 두 개의 동일한 데이터 파티션 크기는 디스크 총 용량에서 루트 파티션 크기를 뺀 값을 2로 나누어 계산할 수 있습니다. 루트 파티션 스트라이프 크기는 가변적이며 초기 클러스터 설정 중에 다음과 같이 계산됩니다. 필요한 총 루트 공간(단일 노드 클러스터의 경우 68GB, HA 쌍의 경우 136GB)은 초기 디스크 수에서 예비 및 패리티 드라이브를 뺀 값으로 나뉩니다. 루트 파티션 스트라이프 크기는 시스템에 추가되는 모든 드라이브에서 일정하게 유지됩니다.

새로운 집계를 생성하는 경우 필요한 최소 드라이브 수는 RAID 유형과 ONTAP Select 노드가 HA 쌍의 일부인지 여부에 따라 달라집니다.

기존 RAID 그룹에 스토리지를 추가하는 경우 몇 가지 추가 고려 사항이 필요합니다. RAID 그룹이 최대 한도에 도달하지 않았다면 기존 RAID 그룹에 드라이브를 추가할 수 있습니다. 기존 FAS 및 AFF 기존 RAID 그룹에 스핀들을 추가하는 모범 사례도 여기에 적용되며, 새 스핀들에 핫스팟이 생성될 수 있습니다. 또한, 기존 RAID 그룹에는 데이터 파티션 크기가 같거나 더 큰 드라이브만 추가할 수 있습니다. 위에서 설명한 것처럼 데이터 파티션 크기는 드라이브의 원시 크기와 다릅니다. 추가되는 데이터 파티션이 기존 파티션보다 큰 경우 새 드라이브의 크기가 적정하게 조정됩니다. 즉, 각 새 드라이브의 용량 일부는 활용되지 않은 상태로 남습니다.

새 드라이브를 사용하여 기존 RAID 그룹의 일부로 새 RAID 그룹을 생성할 수도 있습니다. 이 경우, RAID 그룹 크기는 기존 RAID 그룹 크기와 일치해야 합니다.
